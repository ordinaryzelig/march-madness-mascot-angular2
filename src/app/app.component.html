<app-navbar [years]="years" [selectedYear]="selectedYear" (changeYear)="changeYear($event)" ></app-navbar>

<div id="main">
  <app-mascots-selectable *ngIf="!entryIsComplete()" [mascots]="selectableMascots()" (selectMascot)="selectMascot($event)"></app-mascots-selectable>

  <div *ngIf="showSubmissionForm()" id="submit-picks">
    <form>
      <h3>Almost done! I just need to know who made these awesome picks.</h3>
      <div class="form-group">
        <label for="submit-picks-name">Name</label>
        <input [(ngModel)]="entry.name" name="submit-picks-name" id="submit-picks-name" class="form-control" />
      </div>
      <div class="form-group">
        <label for="submit-picks-email">Email</label>
        <span id="email-optional" class="help-block">(If you want to send yourself a copy)</span>
        <input [(ngModel)]="entry.email" name="submit-picks-email" id="submit-picks-email" class="form-control" aria-describedby="email-optional" />
      </div>
      <button type="submit" class="btn btn-info" (click)="submitPicks()" [disabled]="submittingPicks">Send to Jared!</button>
    </form>
  </div>

  <div *ngIf="showFinishedMessage()" id="finished-message" class="panel panel-default text-center">
    <h2>All done!</h2>
    <h2>Go {{entry.topPick().name}}!!!</h2>
    <div>
      <img src="{{mascotImagePath}}{{entry.topPick().imageFileName}}" class="img-responsive" />
    </div>
  </div>
</div>

<div id="sidebar">
  <div class="fixed-container">
    <div id="search-tools" class="form">
      <div class="tags form-group">
        <div class="dropdown">
          <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown">
            Categories
            <span class="caret"></span>
          </button>
          <ul class="dropdown-menu">
            <li *ngFor="let tag of tags()">
              <label>
                <input type="checkbox" [(ngModel)]="tag.selected" />
                {{tag.name}}
              </label>
            </li>
          </ul>
        </div>
      </div>

      <div class="search form-group">
        <label for="search-box" class="sr-only">Search</label>
        <input id="search-box" #searchBox placeholder="Search" (keyup)="search(searchBox.value)" class="form-control" />
      </div>
    </div>

    <div id="selected-mascots">
      Ranks:
      <ol>
        <li *ngFor="let mascot of selectedMascots()" attr.id="rank_{{mascot.id}}">
          {{mascot.school}} {{mascot.name}}
          <a (click)="unselectMascot(mascot)"><span class="glyphicon glyphicon-remove"></span></a>
        </li>
      </ol>
      <div *ngIf="!entryIsComplete()">
        <a (click)="selectRestRandomly()">Finish it for me</a>
      </div>
    </div>
  </div>
</div>
